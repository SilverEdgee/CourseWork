# Структура проекта hand-gesture-recognition-mediapipe

## Основные файлы

- app.py - Основной исполняемый файл для распознавания жестов рук с использованием MediaPipe
  * Обрабатывает видеопоток с камеры
  * Определяет положения рук с помощью MediaPipe
  * Классифицирует статические жесты и динамические движения пальцев
  * Визуализирует результаты и позволяет собирать данные для обучения

- keypoint_classification.ipynb - Ноутбук для обучения модели классификации статических жестов рук
  * Создание и обучение нейронной сети для распознавания жестов
  * Конвертация модели в формат TFLite

- keypoint_classification_EN.ipynb - Англоязычная версия ноутбука для обучения моделей статических жестов

- point_history_classification.ipynb - Ноутбук для обучения модели классификации динамических жестов
  * Создание и обучение модели для распознавания движений пальцев
  * Конвертация модели в формат TFLite

## Новые файлы (PyQt и интеграция с pyautogui)

- qt_app.py - Основной файл для запуска приложения с графическим интерфейсом на PyQt
  * Интеграция всех компонентов системы
  * Проверка зависимостей и доступности моделей
  * Запуск основного цикла приложения

- qt_gui.py - Файл с определением графического интерфейса на PyQt
  * Класс VideoThread для обработки видеопотока
  * Класс MainWindow с элементами управления и настройками
  * Отображение видеопотока и результатов распознавания жестов

- gesture_processor.py - Обработчик распознавания жестов
  * Использует MediaPipe для обнаружения руки
  * Применяет обученные модели для классификации жестов
  * Визуализирует результаты распознавания

- gesture_actions.py - Связь распознанных жестов с действиями в системе
  * Привязка жестов к действиям pyautogui
  * Загрузка и сохранение конфигурации жестов
  * Выполнение действий при распознавании определенных жестов

## Папки

### model/
- Содержит модели и данные для классификации

#### keypoint_classifier/
- keypoint.csv - Обучающие данные для классификации статических жестов
- keypoint_classifier.tflite - Обученная модель в формате TFLite
- keypoint_classifier.py - Модуль для использования модели классификации ключевых точек
- keypoint_classifier_label.csv - Метки классов для распознавания статичных жестов

#### point_history_classifier/
- point_history.csv - Обучающие данные для классификации динамических жестов
- point_history_classifier.tflite - Обученная модель в формате TFLite
- point_history_classifier.py - Модуль для использования модели классификации истории движений
- point_history_classifier_label.csv - Метки классов для распознавания движений

### utils/
- cvfpscalc.py - Утилита для расчета FPS при обработке видео
- __init__.py - Инициализационный файл для модуля utils

## Принцип работы

1. Проект использует две различные модели:
   - Модель классификации ключевых точек - для распознавания статических жестов рук
   - Модель классификации истории точек - для распознавания динамических жестов (движений пальцев)

2. MediaPipe используется для:
   - Обнаружения руки в кадре
   - Извлечения ключевых точек руки (21 точка с координатами x,y)

3. Сбор данных:
   - Режим "k" (key point) - запись данных для статических жестов
   - Режим "h" (history) - запись данных для динамических жестов

4. Обучение моделей:
   - В ноутбуках реализована полная процедура обучения
   - Модели сохраняются в формате TFLite для использования в основном приложении

5. Интеграция с компьютером через pyautogui:
   - Распознанные жесты преобразуются в действия на компьютере
   - Возможные действия: управление курсором, клики, горячие клавиши, прокрутка и т.д.
   - Настройка действий для жестов через удобный графический интерфейс

6. Пользовательский интерфейс на PyQt:
   - Красивый и функциональный графический интерфейс
   - Настройка камеры и параметров распознавания
   - Визуализация распознанных жестов в режиме реального времени
   - Управление режимами работы и обучения системы

## Список доступных жестов

В текущей конфигурации доступны следующие жесты:
- Open (Открытая ладонь)
- Close (Закрытая ладонь)
- Pointer (Указывающий палец)
- OK (Жест "ОК")
- Thumb Up (Большой палец вверх)
- Peace Sign (Знак мира/победы)
- Thumb Down (Большой палец вниз)
- XUY
- Pistol

## Соответствие жестов и действий по умолчанию

- Open - Нет действия
- Close - Нет действия
- Pointer - Перемещение курсора мыши
- OK - Щелчок мыши
- Thumb Up - Сохранение (Ctrl+S)
- Peace Sign - Копирование (Ctrl+C)
- Thumb Down - Закрыть окно (Alt+F4)
- XUY - Запуск кода (F5)
- Pistol - Скриншот 